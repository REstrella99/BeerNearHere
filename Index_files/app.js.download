$(document).ready(function(){
    // Add smooth scrolling to all links
    $("#yes21").click(function() {
        $('html, body').animate({
            scrollTop: $("#page2").offset().top
        }, 2000);
    });
     $("#submitName").click(function() {
        $('html, body').animate({
            scrollTop: $("#page3").offset().top
        }, 2000);
    });
     $("#barChoice").click(function() {
        $('html, body').animate({
            scrollTop: $("#page4").offset().top
        }, 2000);
    });
     $("#submitQuiz").click(function() {
        $('html, body').animate({
            scrollTop: $("#page5").offset().top
        }, 2000);
    });
   
}); 


  // Initialize Firebase
// var firebase = require("firebase");
  var config = 
  {
    apiKey: "AIzaSyDkqeA4K_IvmzEihlehG5cRS3qmhWboLDQ",
    authDomain: "fir-click-counter-5f122.firebaseapp.com",
    databaseURL: "https://fir-click-counter-5f122.firebaseio.com",
    projectId: "fir-click-counter-5f122",
    storageBucket: "fir-click-counter-5f122.appspot.com",
    messagingSenderId: "730529417096"
  };
  firebase.initializeApp(config);
var questions = 
[
    "What's your name?",
    "IPA's...yay or nay?",
    "Do you like your beer on the stronger side?",
    "Do you prefer organic beer?"
];
    $("#submitLocation").click(function() {
        $('html, body').animate({
            scrollTop: $("#page3").offset().top
        }, 2000);
    });
    $("#barChoice").click(function() {
        $('html, body').animate({
            scrollTop: $("#page4").offset().top
        }, 2000);
    });
    $("#submitQuiz").click(function() {
        $('html, body').animate({
            scrollTop: $("#page5").offset().top
        }, 2000);
    });

//var db = firebase.databse();
var database = firebase.database();
// var name = "";
//$("#btn").on("click", function(e) //{''
$("#submitYourName").on("click", function(event) {
    console.log('clicked')
    event.preventDefault();
    //1. store data after submit
    var name = $(".userName").val().trim();
    console.log(name);
    var flavor="";
    //go to beer pref area
    $('html, body').animate({
            scrollTop: $("#page4").offset().top
        }, 2000); 
    $("#beerPreferences").on("click", function(event)
    {
        event.preventDefault();
        //1. store data after submit
        flavor= $("#beerWords").val().trim();
        console.log(flavor);
    });
    //2. store data into obj
    var usersBeer =
    {
        name:name,
        flavor:flavor,
    }
    //3. push obj to firebase
    database.ref().push(usersBeer);
    //4. clear out username input
    $(".userName").val("");
    
    });
//once you get the flavor and name input correctly
 //you then use 
 database.ref().on("child_added", function(snapshot, prevChildKey) 
{
    //grab your data from firebase (ie name and flavor)
    
     var name = snapshot .val
     var flavor = snapshot .val
    //once you grab those variable. call a function that passes in name and flavor for api reques
    
    //tells you location and where to buy beer
    //getInfo(flavor, name);
       // If any errors are experienced, log them to console.
}, function(errorObject) {
  console.log("The read failed: " + errorObject.code);
});
 function getInfo(myFlavor, myName)
 {
    var queryURL = "http:fir-click-counter-5f122.firebaseio.com" + search + myFlavor + NameofBeer + myName + "&api_key(B409940861087920BF65B1AA6761049570EC50C1)";
    //var queryURL = buildQueryURL("https://www.untappd.com/B409940861087920BF65B1AA6761049570EC50C1+search"+ myFlavor +"NameofBeer"+myName)
    
    $(document).ready(function(){
        $("submit").click(function(){
            $.get(myFlavor, myName)
        })
    })
    //perform ajax get request
    $.get({
        url: "https://www.untappd.com",
        method: "GET"
      }).then(updatePage);
    };
    
    //once you get back that object/ "response" do stuff stuff.
    
    
    //display via tables.
})
//        ,
//        dataType:"json", //to parse string into JSON object,
      /*
        success: function(data){ 
            if(data){
                var len = data.length;
                var txt = "";
                if(len > 0){
                    for(var i=0;i<len;i++){
                        if(data[i].city && data[i].cStatus){
                            txt += "<tr><td>"+data[i].city+"</td><td>"+data[i].cStatus+"</td></tr>";
                        }
                    }
                    if(txt != ""){
                        $("#table").append(txt).removeClass("hidden");
                    }
                }
            }
        }
        error: function(jqXHR, textStatus, errorThrown){
            alert('error: ' + textStatus + ': ' + errorThrown);
        }
    });
    return false;
    
    //suppress natural form submission
});
*/
// dataRef.ref().push({
//     name:name,
//     dateAdded:firebase.databse.ServerValue.TIMESTAMP
// })
// console.log(childSnapshot.val().name);
// function (errorObject:){
//     console.log("Errors handled:" + errorObject.code);
//     };
// function buildQuesryURL(){
//     var queryURL = 
//     }
  //  });
  /*
  STRUCTURE OF QUERY URL FOR SEARCHIG BY BEER TYPE
  https://api.untappd.com/v4/search/beer?client_id=B409940861087920BF65B1AA6761049570EC50C1&client_secret=8A54A1E3019AF4BDF38F77B787BB54F06C56F14E&q=pilsner
  */
